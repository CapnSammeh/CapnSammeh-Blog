<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Content Manager</title>
  <!-- Include the script that enables Netlify Identity on this page. -->
  <script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>
</head>
<style>
  [data-slate-editor] { 
    -webkit-user-modify: read-write !important; 
}
</style>
<body>
  <!-- Include the script that builds the page and powers Netlify CMS -->
  <script src="https://unpkg.com/netlify-cms@2.10.17/dist/netlify-cms.js"></script>
  <!-- Blowfish Shortcodes in Editor -->
  <!-- Alert -->
  <script>
    CMS.registerEditorComponent({
      id: "alert",
      label: "Alert",
      fields: [{
          name: "content",
          label: "Alert Content",
          widget: "string"
        }
      ],
      pattern: /{{< alert >}}(.*?){{< \/alert >}}/ms,
      fromBlock: function (match) {
        return {
          content: match[1],
        };
      },
      toBlock: function (obj) {
        return `{{< alert >}}${obj.content}{{< /alert >}}`;
      }
    });
  </script>
  <!-- Badge -->
  <script>
    CMS.registerEditorComponent({
      id: "badge",
      label: "Badge",
      fields: [{
          name: "content",
          label: "Badge Content",
          widget: "string"
        }
      ],
      pattern: /{{< badge >}}(.*?){{< \/badge >}}/ms,
      fromBlock: function (match) {
        return {
          content: match[1],
        };
      },
      toBlock: function (obj) {
        return `{{< badge >}}${obj.content}{{< /badge >}}`;
      }
    });
  </script>
    <!-- Button -->
    <script>
      CMS.registerEditorComponent({
        id: "button",
        label: "Button",
        fields: [{
            name: "content",
            label: "Button Text",
            widget: "string"
          },
          {
            name: "href",
            label: "URL",
            widget: "string"
          },{
            name: "target",
            label: "URL Target",
            widget: "string"
          }
        ],
        pattern: /{{< button href="(.*?)" target="(.*?)" >}}.(.*?).{{< \/button >}}/ms,
        fromBlock: function (match) {
          return {
            href: match[1],
            target: match[2],
            content: match[3]
            
          };
        },
        toBlock: function (obj) {
          return `{{< button href="${obj.href}" target="${obj.target}" >}} ${obj.content} {{< /button >}}`
        }
      });
    </script>
        <!-- Lead -->
        <script>
          CMS.registerEditorComponent({
            id: "lead",
            label: "Lead",
            fields: [{
                name: "content",
                label: "Lead Content",
                widget: "string"
              }
            ],
            pattern: /{{< lead >}} (.*?) {{< \/lead >}}/ms,
            fromBlock: function (match) {
              return {
                content: match[1],
                
              };
            },
            toBlock: function (obj) {
              return `{{< lead >}} ${obj.content} {{< /lead >}}`
            }
          });
        </script>
</body>

</html>